/*
 Plugin Name: Category Sidebar Navigation
 Version: v2.0.3
 Author: Allies Interactive
 Website: http://www.diziana.com/
 Corporate Website : http://www.diziana.com
 Contact: support@diziana.com
 Follow: https://www.twitter.com/dizianaEngage
 Like: https://www.facebook.com/diziana.engage
 Purchase: Diziana.com
 License: You must have a valid license purchased only from
 diziana.com in order to legally use the theme for your project.
 Copyright: Â© 2019 Allies Interactive. All Rights Reserved
 */
function initMultiLevelMenu(e){return new Diziana.MultilevelMenuBootstrap.initialize(e)}var $=jQuery.noConflict(),uri=new URI,moment=moment(),Diziana={};!function(e,t,n,i){var a=uri,l=a.toString(),o=a.path(),r=a.subdomain(),s=a.domain(),u=a.fragment(),c=i;e.getUrl=function(){return l},e.getLocale=function(){return(e=/^\/hc\/([a-z]{2}-?[0-9,a-z]{0,3})?\/(?:sections|categories|articles)\/+/gi.exec(o))?e[1]:"en-us";var e},e.getDomain=function(){return s},e.getHostName=function(){return r},e.getUrlPath=function(){return o},e.getFragment=function(){return u},e.getCurrentIsoDate=function(){return c.toISOString()}}(module=Diziana||{},0,0,moment);$=jQuery.noConflict();Diziana.PageMeta={},function(e,t,n){var i=Diziana;e.isSectionPage=function(){var e=/\/(sections)\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return!(!e||"sections"!=e[1])},e.isArticlePage=function(){var e=/\/(articles)\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return!(!e||"articles"!=e[1])},e.isCategoryPage=function(){var e=/\/(categories)\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return!(!e||"categories"!=e[1])},e.getSectionId=function(){var e=/\/sections\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return e?parseInt(e[1]):null},e.getArticleId=function(){var e=/\/articles\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return e?parseInt(e[1]):null},e.getCategoryId=function(){var e=/\/categories\/([0-9]{5,20})(?:-?[a-zA-z0-9-])?/gi.exec(i.getUrlPath());return e?parseInt(e[1]):null}}(module=Diziana?Diziana.PageMeta:{});$=jQuery.noConflict();var ns=Storages.initNamespaceStorage("DZ");Diziana.DB={},function(e,t,n,i){var a=Diziana,l=ns,o=e,r=a.getLocale(),s=null,u="local",c=null;e.getStorageNamespace=function(){return s},e.getStorageType=function(){return u},e.initDb=function(e,t){var n,i;s=n=null==(n=e)?"HC":n,u=i=null==(i=t)?"local":i,o.getDb()&&o.flushAllCache(),c="session"==o.getStorageType()?l.sessionStorage:l.localStorage},e.getDb=function(){return c},e.setData=function(e,t,n,i){o.getDb()||o.initDb(n,i),o.getDb().set(o.getStorageKey()+"lastUpdated",a.getCurrentIsoDate()),o.getDb().set(o.getStorageKey()+e+"",t)},e.getData=function(e){return o.getDb().isSet(o.getStorageKey()+e+"")?o.getDb().get(o.getStorageKey()+e+""):null},e.getStorageKey=function(){return o.getStorageNamespace()+"."+r+"."},e.flushAllCache=function(){o.getDb().removeAll(!0)},e.flushCache=function(e){o.getDb().set(o.getStorageKey()+e+"",null)}}(module=Diziana?Diziana.DB:{});$=jQuery.noConflict();Diziana.ApiLinkGenerator={},function(e,t,n){var i=Diziana,a=i.getHostName(),l=i.getDomain(),o=i.getLocale(),r="",s=function(){var e="https://"+a+"."+l+"/api/v2/help_center/"+o+"/"+r;return console.log("Api Link Generated : ",e),e};e.getAllSectionsWithCategories=function(){return r="sections.json?include=categories&per_page=100",s()},e.getAllArticlesInSection=function(e){return r="sections/"+e+"/articles.json?per_page=30",s()},e.getArticleById=function(e){return r="articles/"+e+".json?per_page=30",s()}}(module=Diziana?Diziana.ApiLinkGenerator:{});$=jQuery.noConflict();Diziana.Common={};var module=Diziana?Diziana.Common:{};!function(e,t,n){module.getJsonResponse=function(e){return new n.ajax({url:e,type:"GET",dataType:"json"})}}(0,0,$);$=jQuery.noConflict();var _=_;Diziana.MultilevelMenuCore={},function(e,t,n,r){var i=Diziana,s=e,u=i.DB;i.PageMeta,i.Common,r=r,Diziana.ApiLinkGenerator;s.CACHE_HTML_KEY="HtmlCache",s.CACHE_DATA_KEY="HtmlDataCache",s.CACHE_LAST_UPDATE_TIMESTAMP="lastUpdated",s.CACHE_USER_ID="userId",e.setUserId=function(){u.setData(s.CACHE_USER_ID,HelpCenter.user.identifier)},e.getUserId=function(){return u.getData(s.CACHE_USER_ID)},s.CACHE_CONFIG_KEY="HtmlConfigCache",e.setSettingsCache=function(e){u.setData(s.CACHE_CONFIG_KEY,e)};var a=!(e.getSettingsCache=function(){return u.getData(s.CACHE_CONFIG_KEY)});e.enableSkipArticles=function(){a=!0};var l=!(e.isSkipArticlesSet=function(){return a});e.enableSkipSections=function(){l=!0};var o=!(e.isSkipSectionsSet=function(){return l});e.enableRedirectSectionToFirstArticle=function(){o=!0},e.disableRedirectSectionToFirstArticle=function(){o=!1};var c=!(e.isRedirectSectionToFirstArticleSet=function(){return o});e.enableRedirectCategoryToFirstArticle=function(){c=!0},e.disableRedirectCategoryToFirstArticle=function(){c=!1};var d=!(e.isRedirectCategoryToFirstArticleSet=function(){return c});e.enableRelatedSections=function(){d=!0},e.disableRelatedSections=function(){d=!1};var g=!(e.isRelatedSectionsEnabled=function(){return d});e.enableRelatedCategories=function(){g=!0},e.disableRelatedCategories=function(){g=!1},e.isRelatedCategoriesEnabled=function(){return g};var p="";e.setTargetHtmlClass=function(e){p=e},e.getTargetHtmlClass=function(){return p};var f=null;e.setAssetPath=function(e){e&&(f=e.replace(/\/dz1px.png$/i,"/"))},e.getAssetPath=function(){return f},e.loadNamespaceStorage=function(e){u.initDb(s.getTargetHtmlClass(),e)},e.isHTMLMenuCached=function(){return!!u.getData(s.CACHE_HTML_KEY)},e.getCacheLastUpdatedTimestamp=function(){return u.getData(s.CACHE_LAST_UPDATE_TIMESTAMP)},e.needToFlushDB=function(){if(!s.getCacheLastUpdatedTimestamp())return!1;var e=s.getCacheLastUpdatedTimestamp(),t=i.getCurrentIsoDate();return 1<moment(t).diff(e,"days")},e.setHtmlMenuCache=function(e){u.setData(s.CACHE_HTML_KEY,e)},e.getHtmlMenuCache=function(){return u.getData(s.CACHE_HTML_KEY)},e.getCachedDataMap=function(){return u.getData(s.CACHE_DATA_KEY)},e.populateMapCacheWithCategorySections=function(e){var n={},t=0,i=m(e.categories);for(t=0;t<i.length;++t)n[t]={name:i[t].name,url:i[t].html_url,id:i[t].id,sections:null,type:"category",created_at:i[t].created_at};var a=[],l=e.sections;for(t=0;t<l.length;++t)a[t]={name:l[t].name,url:l[t].html_url,id:l[t].id,articles:null,type:"section",created_at:l[t].created_at,category_id:l[t].category_id,position:l[t].position,updated:!1};var o=r.first(r.toArray(m(a)),31);r.each(o,function(t){r.each(n,function(e){e.id==t.category_id&&(Array.isArray(e.sections)||(e.sections=[]),e.sections.push(t),e.updated=!0)})}),u.setData(s.CACHE_DATA_KEY,n)};var m=function(e){return r.sortBy(e,"position")};e.populateDataWithArticles=function(l,o){var e=u.getData(s.CACHE_DATA_KEY);r.each(e,function(e){var t=e.sections;t&&r.each(t,function(e){var t={},n=r.isEqual(e.id+"",o+"");if(!e.updated&&n){for(var i=m(l),a=0;a<i.length;++a)t[a]={name:i[a].name,url:i[a].html_url,id:i[a].id,type:"article"};e.updated=!0,e.articles=t}})}),u.setData(s.CACHE_DATA_KEY,e)},e.refreshMultilevelSettingsIfChanged=function(e){var t=s.getSettingsCache(),n=e;t&&(r.isEqual(t,n)||(console.log("Multilevel Menu Configuration Changed. Flushing Local Storage"),u.flushAllCache()))},e.refreshMultilevelMenuIfUserChanges=function(){var e=s.getUserId(),t=HelpCenter.user.identifier;r.isEqual(e,t)||(console.log("Multilevel Menu User Changed. Flushing Local Storage"),u.flushAllCache(),s.setUserId())}}(module=Diziana?Diziana.MultilevelMenuCore:{},0,0,_);$=jQuery.noConflict();Diziana.MultilevelMenuRenderer={},function(e,t,n,i){i=i;var a=Diziana.MultilevelMenuCore,l="fa-caret-right",o="fa-caret-down",r=[];e.setIconType=function(e){"plus/minus"==e&&(l="fa-plus",o="fa-minus")},e.setIconType=function(e){"plus/minus"==e&&("plus/minus",l="fa-plus",o="fa-minus")},e.excludeCategories=function(e){return e&&(r=e),r},e.getRenderedMenu=function(e){return s(e)};var s=function(e){var t="<ul id='diziana-multilevel-menu' class='diziana diziana-multilevel-menu dz-multilevel-menu level-0'>";return i.each(e,function(e){t+="<li class='"+u(e)+(r.length&&(0<=r.indexOf(e.id)?"hide":" "))+"' "+d(e)+">",t+="<a class='hide-icon "+c(e)+"' "+d(e)+" href='"+e.url+"'>",t+="<p class='list-item'>",a.getAssetPath()&&(t+="<span class='list-item-img'>",t+="<img src='"+a.getAssetPath()+e.id+".png'>",t+="</span>"),t+="<span class='list-item-name'>",t+=e.name,t+="</span>",t+="<span class='list-item-icon'>",t+="<i class='fa default-icon "+l+"'></i>",t+="<i class='fa hover-icon "+o+" hover'></i>",t+="</span>",t+="</p>",t+="</a>",t+="</li>"}),t+="</ul>"},u=function(e){var t="";return t+=e.type+" ",t+=e.type+"-"+e.id+" ","article"==e.type?t+="level-2 ":"section"==e.type?(t+="level-1 ",e.updated&&(t+="skip-article-load ")):"category"==e.type&&(t+="level-0 "),a.getAssetPath()&&(t+=" has-image"),t},c=function(e){var t="";return t+="list-item-link ",t+=e.type+" ",t+=e.type+"-"+e.id+" ","article"==e.type?t+="level-2 ":"section"==e.type?(t+="level-1 ",e.updated&&(t+="skip-article-load ")):"category"==e.type&&(t+="level-0 "),t},d=function(e){var t="";return t+="data-type='"+e.type+"' ",t+="data-id='"+e.id+"' "};e.addMenuToDOM=function(e,t){n("."+e).empty().append(t)}}(module=Diziana?Diziana.MultilevelMenuRenderer:{},0,$,_);$=jQuery.noConflict(),_=_;Diziana.MultilevelMenuAnimation={},function(e,t,i,n,a){var l=e,o=(Diziana.MultilevelMenuBootstrap,Diziana.MultilevelMenuCore,Diziana.PageMeta);e.closeAllCategorySubMenu=function(e){i(".dz-multilevel-menu ul.submenu.category").each(function(){i(this).is(":visible")!=e&&(i(this).slideUp().removeClass("open"),i(this).prev(".list-item-link").removeClass("open"))})},e.closeAllSectionSubMenu=function(e){i(".dz-multilevel-menu ul.submenu.section").each(function(){i(this).is(":visible")!=e&&(i(this).slideUp().removeClass("open"),i(this).prev(".list-item-link").removeClass("open"))})},e.slideToggleSubmenu=function(e){var t=i(".dz-multilevel-menu ul.submenu-"+e);t.is(":visible")?t.slideUp().removeClass("open").prev(".list-item-link").removeClass("open"):t.slideDown().addClass("open").prev(".list-item-link").addClass("open")},e.hideArticles=function(e){var t=i(".dz-multilevel-menu a.list-item-link.article-"+e).attr("data-section-id");i(".dz-multilevel-menu li.level-2.article").each(function(){i(this).attr("data-id")!=t&&i(this).remove()})},e.hideSections=function(e){var t=i(".dz-multilevel-menu a.list-item-link.article-"+e).attr("data-section-id");i(".dz-multilevel-menu li.level-1.section").each(function(){i(this).attr("data-id")!=t&&i(this).remove()})},e.hideCategories=function(e){var t=i(".dz-multilevel-menu a.list-item-link.article-"+e).attr("data-cat-id");i(".dz-multilevel-menu li.level-0.category").each(function(){i(this).attr("data-id")!=t&&i(this).remove()})},e.slideToggleSectionSubMenu=function(e){l.closeAllSectionSubMenu(e),l.slideToggleSubmenu(e)},e.slideToggleCategorySubMenu=function(e){l.closeAllCategorySubMenu(e),l.slideToggleSubmenu(e)},e.openSectionCategorySubMenu=function(e){l.openSectionSubMenu(e);var t=i(".dz-multilevel-menu ul.submenu-"+e).parent().parent("ul.submenu");l.openCategorySubMenu(t.attr("data-id"))},e.openCategorySubMenu=function(e){i(".dz-multilevel-menu ul.submenu-"+e).slideDown().addClass("open").prev(".list-item-link").addClass("open")},e.openSectionSubMenu=function(e){var t=i(".dz-multilevel-menu ul.submenu-"+e);t.slideDown().addClass("open").prev(".list-item-link").addClass("open"),t.parent().parent("ul").slideDown().addClass("open").prev(".list-item-link").addClass("open")},e.openSectionSubMenuFromArticleId=function(e,t){i(".dz-multilevel-menu a.list-item-link.article-"+e).addClass("open"),t||(t=i(".dz-multilevel-menu a.list-item-link.article-"+e).attr("data-section-id"));var n=i(".dz-multilevel-menu ul.submenu-"+t);n.slideDown().addClass("open").prev(".list-item-link").addClass("open"),n.parent().parent("ul").slideDown().addClass("open").prev(".list-item-link").addClass("open")},e.highlightMenuItemsAfterPageLoad=function(){o.isArticlePage()?l.openSectionSubMenuFromArticleId(o.getArticleId()):o.isSectionPage()?l.openSectionCategorySubMenu(o.getSectionId()):o.isCategoryPage()&&l.openCategorySubMenu(o.getCategoryId())},e.highlightSection=function(e){i(".dz-multilevel-menu a.list-item-link.section-"+e).addClass("open").parent().addClass("open");var t=i(".dz-multilevel-menu a.list-item-link.section-"+e).attr("data-cat-id");i(".dz-multilevel-menu a.list-item-link.category-"+t).addClass("open").parent().addClass("open"),i(".dz-multilevel-menu ul.submenu-"+t).slideDown()},e.addLoaderIcon=function(e){e.children(".list-item").children(".list-item-icon").children(".icon-default").removeClass("fa-plus fa-chevron-up").addClass("fa fa-spinner fa-spin")},e.addStartupMenuLoader=function(e){i("."+e).append('<p class="dz-multilevel-menu loader" style=" padding: 10px; text-align: center;"> <i class="fa fa-spinner fa-spin fa-2x"></i>  </p>')}}(module=Diziana?Diziana.MultilevelMenuAnimation:{},0,$,0,document);$=jQuery.noConflict(),_=_;Diziana.MultilevelMenuBootstrap={},function(e,t,u,c,n){var i=Diziana,d=(c=c,i.MultilevelMenuCore),a=i.MultilevelMenuRenderer,l=i.MultilevelMenuAnimation,g=i.Common,p=i.ApiLinkGenerator,o=(i.DB,i.PageMeta),f=function(e){d.isRelatedSectionsEnabled()&&o.isArticlePage()?l.hideSections(o.getArticleId()):d.isRelatedCategoriesEnabled()&&o.isArticlePage()?l.hideCategories(o.getArticleId()):d.isSkipArticlesSet()&&o.isSectionPage()&&l.highlightSection(o.getSectionId())},m=function(){var e=a.getRenderedMenu(d.getCachedDataMap());d.setHtmlMenuCache(e),a.addMenuToDOM(d.getTargetHtmlClass(),e)},r=function(a,l){if("article"==a.type)o=a.id,r=d.getCachedDataMap(),s=!1,r&&c.each(r,function(e){c.each(e.sections,function(e){c.each(e.articles,function(e){e.id==o&&(s=!0)})})}),s?(m(),l(a.id),f()):u.when(g.getJsonResponse(p.getArticleById(a.id))).then(function(e,t,n){var i=e.article.section_id;u.when(g.getJsonResponse(p.getAllArticlesInSection(i))).then(function(e,t,n){d.populateDataWithArticles(e.articles,i),m(),l(a.id,i),f()})});else{var i=a.id;t=a.id,e=d.getCachedDataMap(),n=!0,e&&c.each(e,function(e){c.each(e.sections,function(e){e.id==t&&e.updated&&(n=!1)})}),n?u.when(g.getJsonResponse(p.getAllArticlesInSection(i))).then(function(e,t,n){d.populateDataWithArticles(e.articles,i),m(),l(a.id,i),f()}):(m(),l(a.id),f())}var t,e,n,o,r,s};e.initialize=function(e){l.addStartupMenuLoader(e.htmlClass),d.setTargetHtmlClass(e.htmlClass),d.setAssetPath(e.assetPath),d.loadNamespaceStorage(e.storageType),d.refreshMultilevelSettingsIfChanged(e),d.refreshMultilevelMenuIfUserChanges(),d.setSettingsCache(e),e.iconType&&a.setIconType(e.iconType),e.excludeCategories&&a.excludeCategories(e.excludeCategories),s()};var s=function(){d.isHTMLMenuCached()&&!d.needToFlushDB()?C():u.when(g.getJsonResponse(p.getAllSectionsWithCategories())).then(function(e,t,n){d.populateMapCacheWithCategorySections(e),C()})},C=function(){o.isArticlePage()?r({id:o.getArticleId(),type:"article"},l.openSectionSubMenuFromArticleId):o.isSectionPage()?r({id:o.getSectionId(),type:"section"},l.openSectionSubMenu):(o.isCategoryPage()?(m(),l.openCategorySubMenu(o.getCategoryId())):m(),f())};u(n).ready(function(){l.addStartupMenuLoader()})}(module=Diziana?Diziana.MultilevelMenuBootstrap:{},0,$,_,document);
